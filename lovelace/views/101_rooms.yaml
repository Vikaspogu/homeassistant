icon: mdi:bed
title: Rooms
path: rooms
id: rooms
cards:
  - type: "vertical-stack"
    cards:
    - type: custom:mushroom-chips-card
      card_mod:
          style: |
            ha-card {
              --chip-font-size: 14px;
            }
      chips:
        - type: back
        - type: action
          icon: mdi:home
          tap_action:
            action: navigate
            navigation_path: /lovelace/dash
        - type: action
          icon_color: red
          icon: si:tesla
          tap_action:
            action: navigate
            navigation_path: /lovelace/tesla
        - type: action
          icon_color: green
          icon: mdi:nas
          tap_action:
            action: navigate
            navigation_path: /lovelace/nas
        - type: action
          icon_color: yellow
          icon: si:proxmox
          tap_action:
            action: navigate
            navigation_path: /lovelace/proxmox
        - type: template
          entity: sensor.server_energy_price
          tap_action:
            action: more-info
          content: |-
            {{ states('sensor.server_energy_price') }}
          icon: mdi:currency-usd
          icon_color: green


    - type: horizontal-stack
      cards:
        - type: "vertical-stack"
          cards:
            ## LG TV ###################################################################################################################
            - type: "vertical-stack"
              cards:
                - type: custom:mushroom-title-card
                  title: LG TV Remote
                - type: horizontal-stack
                  cards:
                    - type: custom:fold-entity-row
                      head:
                        type: section
                        label: TV
                        icon: 'si:lg'
                      open: false
                      clickable: true
                      entities:
                      - type: 'custom:lg-remote-control'
                        entity: media_player.lg_webos_smart_tv
                        mac: !secret lg_tv_mac
                        sources:
                        - icon: 'mdi:plex'
                          name: "Plex"
                        - icon: 'si:amazon'
                          name: "Amazon Prime Video"
                        - icon: 'mdi:hulu'
                          name: "Hulu"

            ## Lights ###################################################################################################################
            - type: custom:mushroom-title-card
              title: Lights
            - type: horizontal-stack
              cards:
                - type: custom:mushroom-light-card
                  entity: "light.kitchen_lights_group"
                  show_brightness_control: true
                  show_color_temp_control: true
                  use_light_color: true
                  name: 'Kitchen'
                - type: custom:mushroom-light-card
                  entity: "light.living_room_dining_group"
                  show_brightness_control: true
                  show_color_temp_control: true
                  use_light_color: true
                  name: 'Living room'
            - type: horizontal-stack
              cards:
                - type: custom:mushroom-light-card
                  entity: "light.office_ceiling_lights_group"
                  show_brightness_control: true
                  show_color_temp_control: true
                  use_light_color: true
                  name: 'Office'
                - type: custom:mushroom-light-card
                  entity: "light.landing_lights_group"
                  show_brightness_control: true
                  show_color_temp_control: true
                  use_light_color: true
                  name: 'Landing'

            ## Curtains/Blinds #############################################################################
            - type: custom:mushroom-title-card
              title: Covers
            - type: horizontal-stack
              cards:
                - type: custom:mushroom-cover-card
                  entity: cover.bedroom_blinds
                  show_tilt_position_control: true
                - type: custom:mushroom-cover-card
                  entity: cover.bedroom
                  show_position_control: true
            - type: horizontal-stack
              cards:
                - type: custom:mushroom-cover-card
                  entity: cover.spare_bedroom_curtain
                  show_position_control: true
                - type: custom:mushroom-cover-card
                  entity: cover.curtain_living_room
                  show_position_control: true
            - type: horizontal-stack
              cards:
                - type: custom:mushroom-template-card
                  icon: mdi:lightbulb-on
                  entity: switch.aquarium_lights
                  icon_color: |
                    {%- if is_state('switch.aquarium_lights', 'on') %} 
                    amber
                    {% endif %}
                  primary: Aquarium Lights
                  card_mod:
                    style: |
                      ha-state-icon {
                        {% if is_state('switch.aquarium_lights','on') %}
                          animation: illumination 2s infinite; 
                        {%endif%}
                      }
                      @keyframes illumination {
                        0%, 100% { clip-path: inset(0 0 0 0); }
                        80% { clip-path: polygon(0% 99%, 20% 55%, 22% 37%, 39% 20%, 61% 21%, 77% 35%, 79% 57%, 99% 100%); }
                      }
                  secondary: >-
                    {{ states('switch.aquarium_lights') | title }}
                  tap_action:
                    action: toggle
                - type: custom:mushroom-template-card
                  icon: mdi:water-pump
                  entity: switch.aquarium_filter
                  icon_color: |
                    {%- if is_state('switch.aquarium_filter', 'on') %} 
                    light-blue
                    {% endif %}
                  primary: Aquarium Filter
                  card_mod:
                    style: |
                      ha-state-icon {
                        {% if is_state('switch.aquarium_filter','on') %}
                          animation: drip 2s infinite; 
                        {%endif%}
                      }
                      @keyframes drip {
                        0%, 100% { clip-path: inset(0 0 0 0); }
                        15%, 85% { clip-path: polygon(0 0, 100% 0, 100% 57%, 64% 57%, 64% 100%, 0 100%); }
                      }
                  secondary: >-
                    {{ states('switch.aquarium_filter') | title }}
                  tap_action:
                    action: toggle
            - type: horizontal-stack
              cards:
                - type: custom:mushroom-template-card
                  icon: mdi:power
                  entity: switch.serverplug_1
                  icon_color: |
                    {%- if is_state('switch.serverplug_1', 'on') %} 
                    teal
                    {% endif %}
                  primary: Server Plug Top
                  card_mod:
                    style: |
                      ha-state-icon {
                        {% if is_state('switch.serverplug_1','on') %}
                          animation: power 1.5s infinite; 
                        {%endif%}
                      }
                      @keyframes power {
                        0%, 100% { clip-path: inset(0 0 0 0); }
                        50% { clip-path: polygon(0 0, 42% 0, 42% 58%, 58% 58%, 58% 0, 100% 0, 100% 100%, 0 100%); }
                      }
                  secondary: >-
                    {{ states('switch.serverplug_1') | title }}
                    • 
                    {{ states('sensor.serverplug_1_energy') }}W
                  tap_action:
                    action: toggle
                - type: custom:mushroom-template-card
                  icon: mdi:power
                  entity: switch.serverplug_2
                  icon_color: |
                    {%- if is_state('switch.serverplug_2', 'on') %} 
                    teal
                    {% endif %}
                  card_mod:
                    style: |
                      ha-state-icon {
                        {% if is_state('switch.serverplug_1','on') %}
                          animation: power 1.5s infinite; 
                        {%endif%}
                      }
                      @keyframes power {
                        0%, 100% { clip-path: inset(0 0 0 0); }
                        50% { clip-path: polygon(0 0, 42% 0, 42% 58%, 58% 58%, 58% 0, 100% 0, 100% 100%, 0 100%); }
                      }
                  primary: Server Plug Bottom
                  secondary: >-
                    {{ states('switch.serverplug_2') | title }}
                    •
                    {{ states('sensor.serverplug_2_energy') }}W
                  tap_action:
                    action: toggle
            - type: horizontal-stack
              cards:
                - type: custom:mushroom-template-card
                  icon: mdi:fan
                  entity: switch.serverfan
                  icon_color: |
                    {%- if is_state('switch.serverfan', 'on') %} 
                    blue
                    {% endif %}
                  primary: Server Fan
                  card_mod:
                    style: |
                      ha-state-icon {
                        {% if is_state('switch.serverfan','on') %}
                          animation: rotation 1s linear infinite;
                        {%endif%}
                          line-height: 0.1rem;
                        }
                      @keyframes rotation {
                        0% {
                          transform: rotate(0deg);
                        }
                        100% {
                          transform: rotate(360deg);
                        }
                      }
                      ha-card { 
                        border-width:0px;
                      }
                  secondary: >-
                    {{ states('switch.serverfan') | title }}
                  tap_action:
                    action: toggle
                - type: custom:mushroom-template-card
                  icon: mdi:monitor
                  entity: switch.workmonitor
                  icon_color: |
                    {%- if is_state('switch.workmonitor', 'on') %} 
                    purple
                    {% endif %}
                  primary: Work Monitor
                  secondary: >-
                    {{ states('switch.workmonitor') | title }}
                    •
                    {{ states('sensor.workmonitor_power') }}W
                  tap_action:
                    action: toggle
            ## Temperature Sensor ###################################################################################################################
            - type: custom:mushroom-title-card
              title: Temperature
            - type: horizontal-stack
              cards:
                - type: custom:stack-in-card
                  cards:
                    - type: custom:mushroom-template-card
                      primary: "Bedroom"
                      icon: mdi:thermometer
                      tap_action:
                        action: more-info
                      icon_color: |-
                        {% if is_state(entity, 'unknown') %}
                            
                        {% elif states(entity) | float >= 75 %}
                          red
                        {% elif states(entity) | float >= 68 %}
                          green
                        {% elif states(entity) | float >= 50 %}
                          blue
                        {% endif %}
                      entity: sensor.bedroom_temperature
                    - type: custom:mini-graph-card
                      entities:
                        - entity: sensor.bedroom_temperature
                          state_adaptive_color: true
                      font_size: 75
                      font_size_header: 10
                      hours_to_show: 12
                      show:
                        icon: false
                        name: false
                        extrema: true
                        name_adaptive_color: true
                        icon_adaptive_color: true
                      color_thresholds:
                        - value: 50
                          color: '#3B4EFF'
                        - value: 68
                          color: '#47a04b'
                        - value: 75
                          color: '#f44336'
                - type: custom:stack-in-card
                  cards:
                    - type: custom:mushroom-template-card
                      primary: "Office area"
                      icon: mdi:thermometer
                      tap_action:
                        action: more-info
                      icon_color: |-
                        {% if is_state(entity, 'unknown') %}
                            
                        {% elif states(entity) | float >= 75 %}
                          red
                        {% elif states(entity) | float >= 68 %}
                          green
                        {% elif states(entity) | float >= 50 %}
                          blue
                        {% endif %}
                      entity: sensor.office_area_temperature
                    - type: custom:mini-graph-card
                      entities:
                        - entity: sensor.office_area_temperature
                          state_adaptive_color: true
                      font_size: 75
                      font_size_header: 10
                      hours_to_show: 12
                      show:
                        icon: false
                        name: false
                        extrema: true
                        name_adaptive_color: true
                        icon_adaptive_color: true
                      color_thresholds:
                        - value: 50
                          color: '#3B4EFF'
                        - value: 68
                          color: '#47a04b'
                        - value: 75
                          color: '#f44336'

            ## Humidity Sensor ###################################################################################################################
            - type: custom:mushroom-title-card
              title: Humidity
            - type: horizontal-stack
              cards:
                - type: custom:stack-in-card
                  cards:
                    - type: custom:mushroom-template-card
                      primary: 'Bedroom Humidity'
                      icon: mdi:water-percent
                      tap_action:
                        action: more-info
                      icon_color: |-
                        {% if is_state(entity, 'unknown') %}
                          disabled
                        {% elif states(entity) | float >= 60 %}
                          blue
                        {% elif states(entity) | float >= 40 %}
                          green
                        {% else %}
                          red
                        {% endif %}
                      entity: sensor.bedroom_humidity
                    - type: custom:mini-graph-card
                      entities:
                        - entity: sensor.bedroom_humidity
                          state_adaptive_color: true
                      font_size: 75
                      font_size_header: 10
                      show:
                        icon: false
                        name: false
                        extrema: true
                        name_adaptive_color: true
                        icon_adaptive_color: true
                      color_thresholds:
                        - value: 0
                          color: '#ff3b30'
                        - value: 40
                          color: '#4cd964'
                        - value: 60
                          color: '#007aff'
                - type: custom:stack-in-card
                  cards:
                    - type: custom:mushroom-template-card
                      primary: 'Current Humidity Humidifier'
                      icon: mdi:water-percent
                      tap_action:
                        action: more-info
                      icon_color: |-
                        {% if is_state(entity, 'unknown') %}
                          disabled
                        {% elif states(entity) | float >= 60 %}
                          blue
                        {% elif states(entity) | float >= 40 %}
                          green
                        {% else %}
                          red
                        {% endif %}
                      entity: sensor.bedroom_humidifier_current_humidity
                    - type: custom:mini-graph-card
                      entities:
                        - entity: sensor.bedroom_humidifier_current_humidity
                          state_adaptive_color: true
                      font_size: 75
                      font_size_header: 10
                      show:
                        icon: false
                        name: false
                        extrema: true
                        name_adaptive_color: true
                        icon_adaptive_color: true
                      color_thresholds:
                        - value: 0
                          color: '#ff3b30'
                        - value: 40
                          color: '#4cd964'
                        - value: 60
                          color: '#007aff'
      