icon: mdi:home-assistant
title: Dashboard
path: dashboard
id: dash
cards:
  - type: "vertical-stack"
    cards:
    ## Chips Temperature ###################################################################################################################
    - type: horizontal-stack
      cards:
      - type: custom:mushroom-chips-card
        card_mod:
          style: |
            ha-card {
              --chip-font-size: 14px;
            }
        chips:
          - type: template
            tap_action:
              action: more-info
            entity: sensor.uptime
            content: |-
              Uptime {{ states('sensor.uptime') | as_datetime | relative_time }}
            icon: mdi:weather-cloudy-clock
            icon_color: purple
          - type: template
            entity: binary_sensor.pogu_nas_security_status
            tap_action:
              action: more-info
            content: |-
              {%- if is_state('binary_sensor.pogu_nas_security_status', 'on') %} 
                Unsafe
              {%- else %}
                Safe
              {% endif %}
            icon: |-
              {%- if is_state('binary_sensor.pogu_nas_security_status', 'on') %} 
                mdi:alert
              {%- else %}
                mdi:shield-check
              {% endif %}
            icon_color: |-
              {% if is_state('binary_sensor.pogu_nas_security_status', 'on') %}
                amber
              {% else %}
                green
              {% endif %}
          - type: template
            tap_action:
              action: more-info
            entity: sensor.2025_cadillac_optiq_charge_state
            content: |-
              {{ states('sensor.2025_cadillac_optiq_charge_state') }}%
            icon: |-
              {% if states('sensor.2025_cadillac_optiq_charge_state') | float >= 80 %}
                mdi:battery-80
              {% elif states('sensor.2025_cadillac_optiq_charge_state') | float >= 60 %}
                mdi:battery-60
              {% elif states('sensor.2025_cadillac_optiq_charge_state') | float >= 40 %}
                mdi:battery-40
              {% else %}
                mdi:battery-alert
              {% endif %}
            icon_color: |-
              {% if states('sensor.2025_cadillac_optiq_charge_state') | float >= 50 %}
                green
              {% else %}
                amber
              {% endif %}
          - type: template
            tap_action:
              action: more-info
            entity: sensor.2025_cadillac_optiq_ev_range
            content: |-
              {{ states('sensor.2025_cadillac_optiq_ev_range') }}mi
            icon: mdi:ev-station
            icon_color: |-
              {% if states('sensor.2025_cadillac_optiq_ev_range') | float >= 50 %}
                green
              {% else %}
                amber
              {% endif %}
          - type: template
            entitiy: device_tracker.2025_cadillac_optiq
            icon: si:cadillac
            icon_color: "amber"
            content: |-
              {{ states('sensor.pogu_s_2025_cadillac_optiq_distance') }} mi
              â€¢ 
              {{ states('device_tracker.2025_cadillac_optiq') | regex_replace(find='_', replace=' ', ignorecase=False)}}
            tap_action:
              action: "fire-dom-event"
              browser_mod:
                service: browser_mod.popup
                data:
                  title: Optiq Location
                  style:
                    $: >
                      [[[
                        if (hass.themes.theme.includes("desktop")){
                          var dialog = `
                            .mdc-dialog__surface{
                              border-radius: var(--border-radius) !important;
                            }
                          `;
                        } else{
                          var dialog = "";
                        }
                        return `
                          *{
                            --secondary-background-color: none !important;
                            --font-family: var(--primary-font-family);
                          }
                          ${dialog}
                        `;
                      ]]]
                    hui-vertical-stack-card:
                      $: >
                        button-card {
                          align-self: center;
                          padding: 0.2em 0 2.3em 0;
                        }
                        hui-entities-card{
                          padding: 0.8em 1.4em;
                        }
                      $hui-entities-card$: >
                        ha-card{
                          box-shadow: none;
                        }
                      $hui-history-graph-card$: >
                        .content {
                          padding: 0 2.4em !important;
                        }
                        ha-card{
                          box-shadow: none;
                        }
                      $hui-glance-card$: >
                        ha-card{
                          box-shadow: none;
                        }
                      $hui-map-card:
                        $: >
                          ha-icon-button {
                            color: rgba(var(--color-blue),1);
                          }
                        $ha-map:
                          $: >
                            .leaflet-control-attribution {
                              display: none;
                            }
                            .leaflet-touch .leaflet-control-layers, .leaflet-touch .leaflet-bar {
                              border: 2px solid rgba(var(--color-blue),0.4) !important;
                            }
                            .leaflet-bar a {
                              background-color: rgba(var(--color-blue),0.2) !important;
                              color: rgba(var(--color-blue),1) !important;
                            }
                            .leaflet-bar a:first-child {
                              border-bottom: 2px solid rgba(var(--color-blue),0.4) !important;
                            }
                            .leaflet-pane.leaflet-tile-pane {
                              filter: contrast(95%);
                            }
                  content:
                    type: "vertical-stack"
                    cards:
                      - type: "entities"
                        card_mod:
                          style: |
                            :host {
                              font-family: var(--primary-font-family);
                            }
                        entities:
                          - entity: "device_tracker.2025_cadillac_optiq"
                            secondary_info: "last-changed"
                      - type: "map"
                        card_mod:
                          style: |
                            :host {
                              font-family: var(--primary-font-family);
                            }
                        aspect_ratio: "12x10"
                        default_zoom: 16
                        entities: 
                          - "device_tracker.2025_cadillac_optiq"
    - type: "custom:button-card"
      template: card_weather
      entity: weather.forecast_home
      variables:
        ulm_card_weather_name: " "
        ulm_card_weather_primary_info:
          - wind_speed
          - precipitation_probability
        ulm_card_weather_backdrop:
          fade: true
        ulm_card_weather_custom:
          - temp: sensor.outside_temperature

    - type: "custom:button-card"
      template: "card_scenes_welcome"
      variables:
        entity_1:
          entity_id: "input_boolean.run_wakeup_script"
          icon: "mdi:white-balance-sunny"
          name: "Morning"
          color: "blue"
        entity_2:
          entity_id: "input_boolean.run_goodnight_script"
          icon: "mdi:weather-night"
          name: "Night"
          color: "red"
        entity_3:
          entity_id: "input_boolean.on_vacation"
          icon: "mdi:beach"
          name: "Vacation"
          color: "green"
        entity_4:
          entity_id: "input_boolean.override_temperature_control"
          icon: "mdi:thermostat"
          name: "Thermostat"
          color: "purple"
        entity_5:
          entity_id: "input_boolean.working"
          icon: "mdi:laptop-account"
          name: "Working"
          color: "pink"

    - type: horizontal-stack
      cards:
      - type: 'custom:button-card'
        template: card_person
        entity: person.vikas_pogu
        variables:
          ulm_card_person_entity: person.vikas_pogu
          ulm_card_person_use_entity_picture: true
          ulm_card_person_icon: mdi:face-man
        name: Vikas
      - type: 'custom:button-card'
        template: card_person
        entity: person.spogu
        variables:
          ulm_card_person_entity: person.spogu
          ulm_card_person_use_entity_picture: true
          ulm_card_person_icon: mdi:face-woman

    ## Access Control #############################################################################
    - type: 'custom:button-card'
      template: card_title
      title: Access Control
    - type: horizontal-stack
      cards:
        - type: "custom:button-card"
          template: card_cover
          entity: cover.garage_door_opener
          variables:
            ulm_card_cover_name: Optiq Garage
            ulm_card_cover_enable_controls: true
            ulm_card_cover_color: "green"
        - type: "custom:button-card"
          template: card_cover
          entity: cover.ratgdo32_7b2420_door
          variables:
            ulm_card_cover_name: VW Garage
            ulm_card_cover_enable_controls: true
            ulm_card_cover_color: "green"
    - type: horizontal-stack
      cards:
        - type: "custom:button-card"
          entity: lock.sidedoor_yale_assure_2_lock
          template: "custom_card_eraycetinay_lock"
          name: "Side Door"
          variables:
            ulm_custom_card_eraycetinay_lock_tap_control: true
            ulm_custom_card_eraycetinay_lock_battery_level: sensor.sidedoor_yale_assure_2_lock_battery_level
            ulm_custom_card_eraycetinay_lock_door_open: binary_sensor.sidedoor_yale_assure_2_lock_window_door_is_open
          triggers_update:
            - "sensor.sidedoor_yale_assure_2_lock_battery_level"
            - "binary_sensor.sidedoor_yale_assure_2_lock_window_door_is_open"

    ## Climate Control #############################################################################
    - type: 'custom:button-card'
      template: card_title
      title: Climate
    - type: horizontal-stack
      cards:
        - type: "custom:button-card"
          template: card_thermostat
          entity: climate.thermostat
          variables:
            ulm_card_thermostat_enable_collapse: true
            ulm_card_thermostat_enable_controls: true
            ulm_card_thermostat_enable_hvac_modes: true
            ulm_card_thermostat_enable_popup: true
    - type: horizontal-stack
      cards:
        - type: "custom:button-card"
          template: card_graph
          entity: sensor.bedroom_temperature_temperature
          variables:
            ulm_card_graph_color: "var(--google-blue)"
            ulm_card_graph_name: Master Bedroom
            ulm_card_graph_entity: sensor.bedroom_temperature_temperature
            ulm_card_graph_type: fill
            ulm_card_graph_hours: 24
            ulm_card_graph_group_by: interval
            ulm_card_graph_line_width: 5
        - type: "custom:button-card"
          template: card_graph
          entity: sensor.callies_room_temperature_temperature
          variables:
            ulm_card_graph_color: "var(--google-blue)"
            ulm_card_graph_name: Callie's Bedroom
            ulm_card_graph_entity: sensor.callies_room_temperature_temperature
            ulm_card_graph_type: fill
            ulm_card_graph_hours: 24
            ulm_card_graph_group_by: interval
            ulm_card_graph_line_width: 5

    ## Camera ###################################################################################################################   
    - type: 'custom:button-card'
      template: card_title
      title: Cameras
    - type: horizontal-stack
      cards:
      - type: 'custom:frigate-card'
        cameras:
        - camera_entity: camera.g4_doorbell_pro_medium_resolution_channel
        - camera_entity: camera.g5_bullet_medium_resolution_channel
        - camera_entity: camera.g4_instant_medium_resolution_channel

    ## Vacuum ###################################################################################################################  
    - type: 'custom:button-card'
      template: card_title
      title: Vacuums
    - type: custom:swipe-card
      cards:
        - type: vertical-stack
          cards:
            - type: 'custom:button-card'
              template: card_title
              title: Wall-E
            - vacuum: valetudo_wall_e
              type: custom:valetudo-map-card
              title: Cleaning Map
        - type: vertical-stack
          cards:
            - type: 'custom:button-card'
              template: card_title
              title: E-Vac
            - type: custom:mushroom-vacuum-card
              entity: vacuum.e_vac
              name: E-Vac
              icon_animation: true
              commands:
                - start_pause
                - stop
                - locate
                - return_home
