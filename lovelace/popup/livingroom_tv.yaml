action: fire-dom-event
browser_mod:
  command: popup
  title: Living Tv
  style:
    hui-vertical-stack-card:
      $: |
        hui-horizontal-stack-card {
          padding: 0em 2em 2.3em 2em;
        }
      $hui-horizontal-stack-card$: |
        #root {
          justify-content: space-evenly;
        }
  card:
    type: vertical-stack
    cards:
      - type: conditional
        conditions:
          - entity: media_player.sony_bravia_tv
            state: 'off'
        card:
          type: vertical-stack
          cards:
            - type: entities
              state_color: true
              show_header_toggle: false
              card_mod:
                class: content
                style:
                  .: |
                    ha-card {
                      animation: none !important;
                      margin: 0px !important;
                      font-family: var(--primary-font-family)
                    }
              entities:
                - entity: media_player.sony_bravia_tv
                  name: Bravia TV
                  secondary_info: last-changed
      - type: conditional
        conditions:
          - entity: media_player.sony_bravia_tv
            state: 'on'
        card:
          type: vertical-stack
          cards:
            - type: custom:mini-media-player
              card_mod:
                class: content
                style:
                  .: |
                    ha-card {
                      animation: none !important;
                      margin: 0px !important;
                      font-family: var(--primary-font-family)
                    }
              entity: media_player.sony_bravia_tv
              icon: 'mdi:television'
              artwork: cover
              source: icon
              hide:
                power_state: false
              volume_stateless: true
              shortcuts:
                columns: 3
                buttons:
                  - icon: mdi:home
                    type: tvshow
                    id: Home
                  - icon: mdi:arrow-up-circle
                    type: tvshow
                    id: Up
                  - icon: mdi:plex
                    type: script
                    id: script.tv_open_plex
                  - icon: mdi:arrow-left-circle
                    type: tvshow
                    id: Left
                  - icon: mdi:check-circle
                    type: tvshow
                    id: Confirm
                  - icon: mdi:arrow-right-circle
                    type: tvshow
                    id: Right
                  - icon: mdi:volume-mute
                    type: tvshow
                    id: Mute
                  - icon: mdi:arrow-down-circle
                    type: tvshow
                    id: :quit:Down
                  - icon: mdi:exit-to-app
                    type: tvshow
                    id: Return
