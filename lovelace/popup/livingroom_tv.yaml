action: fire-dom-event
browser_mod:
  command: popup
  title: Living Tv
  style:
    hui-vertical-stack-card:
      $: |
        hui-horizontal-stack-card {
          padding: 0em 2em 2.3em 2em;
        }
      $hui-horizontal-stack-card$: |
        #root {
          justify-content: space-evenly;
        }
  card:
    type: vertical-stack
    cards:
      - type: conditional
        conditions:
          - entity: media_player.sony_bravia_tv_2
            state: 'off'
        card:
          type: vertical-stack
          cards:
            - type: entities
              state_color: true
              show_header_toggle: false
              card_mod:
                class: content
                style:
                  .: |
                    ha-card {
                      animation: none !important;
                      margin: 0px !important;
                      font-family: var(--primary-font-family)
                    }
              entities:
                - entity: media_player.sony_bravia_tv_2
                  name: Bravia TV
                  secondary_info: last-changed
      - type: conditional
        conditions:
          - entity: media_player.sony_bravia_tv_2
            state: 'playing'
        card:
          type: vertical-stack
          cards:
            - type: custom:mini-media-player
              card_mod:
                class: content
                style:
                  .: |
                    ha-card {
                      animation: none !important;
                      margin: 0px !important;
                      font-family: var(--primary-font-family)
                    }
              entity: media_player.sony_bravia_tv_2
              icon: 'mdi:television'
              artwork: cover
              source: icon
              hide:
                power_state: false
              volume_stateless: true
              shortcuts:
                columns: 3
                buttons:
                  - icon: mdi:home
                    type: service
                    id: remote.send_command
                    data:
                      device_id: 11b3f9c177d4afd0aae04eb1b25bb9b9
                      command: Home
                  - icon: mdi:arrow-up-circle
                    type: service
                    id: remote.send_command
                    data:
                      device_id: 11b3f9c177d4afd0aae04eb1b25bb9b9
                      command: Up
                  - icon: mdi:plex
                    type: service
                    id: remote.send_command
                    data:
                      device_id: 11b3f9c177d4afd0aae04eb1b25bb9b9
                      command: Plex
                  - icon: mdi:arrow-left-circle
                    type: service
                    id: remote.send_command
                    data:
                      device_id: 11b3f9c177d4afd0aae04eb1b25bb9b9
                      command: Left
                  - icon: mdi:check-circle
                    type: service
                    id: remote.send_command
                    data:
                      device_id: 11b3f9c177d4afd0aae04eb1b25bb9b9
                      command: Confirm
                  - icon: mdi:arrow-right-circle
                    type: service
                    id: remote.send_command
                    data:
                      device_id: 11b3f9c177d4afd0aae04eb1b25bb9b9
                      command: Right
                  - icon: mdi:volume-mute
                    type: service
                    id: remote.send_command
                    data:
                      device_id: 11b3f9c177d4afd0aae04eb1b25bb9b9
                      command: Mute
                  - icon: mdi:arrow-down-circle
                    type: service
                    id: remote.send_command
                    data:
                      device_id: 11b3f9c177d4afd0aae04eb1b25bb9b9
                      command: Down
                  - icon: mdi:exit-to-app
                    type: service
                    id: remote.send_command
                    data:
                      device_id: 11b3f9c177d4afd0aae04eb1b25bb9b9
                      command: Return
